# Warehouse_api.

### Автор

1. Николай Моденов  
   - Аккаунт GitHub: [NikolayModenov](https://github.com/NikolayModenov)

## Описание

Проект Warehouse_api представляет собой платформу для отслеживания заказов и учёта складских остатков.

Для этого реализованы такие возможности как:

- добавить новое наименование продукта на склад;
- изменить информацию о существующем продукте;
- получить информацию обо всех продуктах;
- получить информацию о конкретном продукте по id;
- удалить наименование из складского учёта;
- создать заказ со списком продуктов;
- получить информацию обо всех заказах;
- получить информацию о конкретном заказе по id;
- изменить статус выполнения заказа.

### Техническое описание проекта

Проект запущен в docker-контейнерах. Используемая база данных - PostgreSQL.

### Локальный запуск проекта

1. Склонируйте проект на свой локальный компьютер. 

-```git clone git@github.com:NikolayModenov/warehouse_api.git```

2. Перейдите в директорию с проектом foodgram-project-react.

- ```cd warehouse_api/```

3. Создайте виртуальное окружение и подключитель к нему.

- ```python -m venv venv``` - создание окружения
- ```source venv/Scripts/activate``` - подключение к созданному окружению

4. Создайте в корневой директории проекта файл .env и внесите в него переменные:

- SECRET_KEY = (полученный ранее Secret key)
- ALLOWED_HOSTS = (ip адресс вашего сервера), 127.0.0.1, localhost, food-gram.ru
- POSTGRES_USER = (имя пользователя базы данных postgres)
- POSTGRES_PASSWORD = (пароль базы данных postgres)
- POSTGRES_DB = (название базы данных postgres)
- DB_HOST = (название хоста)
- DB_PORT = (порт сервера для подключения базы данных postgres)

5. Перейдите в директорию backend, где располагается файл manage.py:

- ```cd backend/```

6. Запустите backend сервер:

- ```python manage.py migrate``` - запуск миграций в базе данных.
- ```python manage.py loaddata data/tags.json``` - наполнение базы данных тэгами.
- ```python manage.py loaddata data/ingredients.json``` - наполнение базы данных ингредиентами.
- ```python manage.py runserver``` - локальный запуск backend сервера.

### Команды для наполнения базы данных на сервере

на удалённом сервере перейдите в папку с файлом docker-compose.yml и введите следующие комманды

```docker compose exec backend python manage.py loaddata data/tags.json``` - наполнение базы данных тэгами

```docker compose exec backend python manage.py loaddata data/ingredients.json``` - наполнение базы данных ингредиентами

## Список приложений используемых для разработки проекта

Бэкенд проекта реализован на базе django rest framework, фронтенд на базе Node.js.
Аутентификация осуществляется при помощи djoser.
Для автоматизации развёртывания применяется docker.
Взаимосвязь контейнеров docker осуществляется при помощи прокси-сервера nginx.
Wsgi server - gunicorn, осуществляет взаимодействие nginx и django rest framework.
